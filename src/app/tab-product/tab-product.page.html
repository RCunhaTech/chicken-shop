<ion-header>
  <ion-toolbar color="dark">
    <ion-title>Produtos</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="changeTableOrGrid()">
        <ion-icon name="grid-outline" [hidden]="!tableGrid"></ion-icon>
        <ion-icon name="reader-outline" [hidden]="tableGrid"></ion-icon>
      </ion-button>
      <ion-button (click)="openMenu()">
        <ion-icon name="ellipsis-vertical"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
  <ion-toolbar color="dark">
    <ion-searchbar show-clear-button="focus" placeholder="Pesquise aqui..."
      (ionChange)="search($event)"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid [hidden]="tableGrid">
    <ion-row>
      <ion-col size="4">Descrição</ion-col>
      <ion-col size="2">Preço</ion-col>
      <ion-col size="2">Estoque</ion-col>
      <ion-col size="2">Estq Baixo</ion-col>
      <ion-col size="2">Estq Risco</ion-col>
    </ion-row>
    <ion-row *ngFor="let product of products | async" [ngClass]="product.stockStatus" (click)="openMenu(product)">
      <ion-col size="4">{{ product.description }}</ion-col>
      <ion-col size="2">{{ product.price | currency }}</ion-col>
      <ion-col size="2">{{ product.stock }}</ion-col>
      <ion-col size="2">{{ product.lowStock }}</ion-col>
      <ion-col size="2">{{ product.badStock }}</ion-col>
    </ion-row>
  </ion-grid>
  <div class="tool" [hidden]="!tableGrid">
    <ion-col size="12" size-xs="12" size-sm="6" size-md="4" size-lg="3" *ngFor="let product of products | async">
      <ion-card class="product-card" [ngClass]="product.stockStatus">
        <ion-card-content>
          <p>{{ product.description }}</p>
          <p>Estoque:{{ product.stock }}</p>
          <hr>
          <p><strong class="total">Preço:{{ product.price | currency }}</strong></p>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </div>
</ion-content>